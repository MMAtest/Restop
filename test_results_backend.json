{
  "total": 260,
  "passed": 229,
  "failed": 31,
  "success_rate": 88.07692307692308,
  "results": [
    {
      "test": "POST /fournisseurs",
      "success": true,
      "message": "Fournisseur créé avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.294111"
    },
    {
      "test": "GET /fournisseurs",
      "success": true,
      "message": "7 fournisseur(s) récupéré(s)",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.354628"
    },
    {
      "test": "GET /fournisseurs/{id}",
      "success": true,
      "message": "Fournisseur récupéré correctement",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.378190"
    },
    {
      "test": "PUT /fournisseurs/{id}",
      "success": true,
      "message": "Fournisseur modifié avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.425067"
    },
    {
      "test": "POST /produits",
      "success": true,
      "message": "Produit créé avec liaison fournisseur",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.449848"
    },
    {
      "test": "Auto-création stock",
      "success": true,
      "message": "Stock créé automatiquement à 0",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.467985"
    },
    {
      "test": "GET /produits",
      "success": true,
      "message": "44 produit(s) récupéré(s)",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.489041"
    },
    {
      "test": "PUT /produits/{id}",
      "success": true,
      "message": "Produit modifié avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.516161"
    },
    {
      "test": "Mise à jour nom dans stock",
      "success": true,
      "message": "Nom mis à jour dans stock",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.587697"
    },
    {
      "test": "GET /stocks",
      "success": true,
      "message": "44 stock(s) récupéré(s)",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.610744"
    },
    {
      "test": "Structure données stocks",
      "success": true,
      "message": "Tous les champs requis présents",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.610776"
    },
    {
      "test": "PUT /stocks/{id}",
      "success": true,
      "message": "Stock mis à jour avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.635495"
    },
    {
      "test": "Mise à jour derniere_maj",
      "success": true,
      "message": "Date de dernière MAJ mise à jour",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.635525"
    },
    {
      "test": "POST /mouvements (entrée)",
      "success": true,
      "message": "Mouvement d'entrée créé",
      "details": null,
      "timestamp": "2025-09-02T17:00:58.657023"
    },
    {
      "test": "Mise à jour stock (entrée)",
      "success": true,
      "message": "Stock mis à jour: 75.5",
      "details": null,
      "timestamp": "2025-09-02T17:00:59.176351"
    },
    {
      "test": "POST /mouvements (sortie)",
      "success": true,
      "message": "Mouvement de sortie créé",
      "details": null,
      "timestamp": "2025-09-02T17:00:59.199497"
    },
    {
      "test": "Mise à jour stock (sortie)",
      "success": true,
      "message": "Stock mis à jour: 60.5",
      "details": null,
      "timestamp": "2025-09-02T17:00:59.719322"
    },
    {
      "test": "POST /mouvements (ajustement)",
      "success": true,
      "message": "Ajustement créé",
      "details": null,
      "timestamp": "2025-09-02T17:00:59.783867"
    },
    {
      "test": "Mise à jour stock (ajustement)",
      "success": true,
      "message": "Stock ajusté: 55.0",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.306525"
    },
    {
      "test": "GET /mouvements",
      "success": true,
      "message": "44 mouvement(s) dans l'historique",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.325937"
    },
    {
      "test": "Ordre chronologique mouvements",
      "success": true,
      "message": "Mouvements triés par date décroissante",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.325972"
    },
    {
      "test": "GET /export/stocks",
      "success": true,
      "message": "Fichier Excel généré avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.494564"
    },
    {
      "test": "Taille fichier Excel",
      "success": true,
      "message": "Fichier de 10293 bytes",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.494612"
    },
    {
      "test": "Structure Excel",
      "success": true,
      "message": "Excel valide avec 44 lignes",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.583726"
    },
    {
      "test": "POST /import/stocks",
      "success": true,
      "message": "Import Excel réussi",
      "details": null,
      "timestamp": "2025-09-02T17:01:00.622664"
    },
    {
      "test": "Validation import Excel",
      "success": true,
      "message": "Données importées correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.147203"
    },
    {
      "test": "GET /dashboard/stats",
      "success": true,
      "message": "Toutes les statistiques présentes",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.208248"
    },
    {
      "test": "Validation stats",
      "success": true,
      "message": "Produits: 44, Fournisseurs: 7",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.208287"
    },
    {
      "test": "POST /recettes",
      "success": true,
      "message": "Recette créée avec enrichissement noms produits",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.230539"
    },
    {
      "test": "GET /recettes",
      "success": true,
      "message": "12 recette(s) récupérée(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.249536"
    },
    {
      "test": "Structure données recettes",
      "success": true,
      "message": "Tous les champs requis présents",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.249571"
    },
    {
      "test": "GET /recettes/{id}",
      "success": true,
      "message": "Recette récupérée correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.270157"
    },
    {
      "test": "PUT /recettes/{id}",
      "success": true,
      "message": "Recette modifiée avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.330515"
    },
    {
      "test": "GET /recettes/{id}/production-capacity",
      "success": true,
      "message": "Capacité calculée: 1 portions max",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.351770"
    },
    {
      "test": "Structure ingredients_status",
      "success": true,
      "message": "Détails ingrédients complets",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.351806"
    },
    {
      "test": "GET /export/recettes",
      "success": true,
      "message": "Fichier Excel recettes généré",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.390582"
    },
    {
      "test": "Taille fichier Excel recettes",
      "success": true,
      "message": "Fichier de 8631 bytes",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.390631"
    },
    {
      "test": "Structure Excel recettes",
      "success": true,
      "message": "Excel valide avec 39 lignes",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.402151"
    },
    {
      "test": "POST /import/recettes",
      "success": true,
      "message": "Import Excel recettes réussi",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.441828"
    },
    {
      "test": "Validation import recettes",
      "success": true,
      "message": "Recette importée correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.959798"
    },
    {
      "test": "DELETE /recettes/{id}",
      "success": true,
      "message": "Recette supprimée",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.978839"
    },
    {
      "test": "Validation suppression recette",
      "success": true,
      "message": "Recette bien supprimée",
      "details": null,
      "timestamp": "2025-09-02T17:01:01.995939"
    },
    {
      "test": "extract_text_from_pdf (pdfplumber/PyPDF2)",
      "success": true,
      "message": "Texte extrait du PDF: 149 caractères",
      "details": null,
      "timestamp": "2025-09-02T17:01:02.024371"
    },
    {
      "test": "PDF file_type detection",
      "success": true,
      "message": "Type PDF correctement détecté",
      "details": null,
      "timestamp": "2025-09-02T17:01:02.024403"
    },
    {
      "test": "detect_file_type (facture.jpg)",
      "success": false,
      "message": "Erreur upload: 400",
      "details": null,
      "timestamp": "2025-09-02T17:01:02.316814"
    },
    {
      "test": "detect_file_type (document.png)",
      "success": false,
      "message": "Erreur upload: 400",
      "details": null,
      "timestamp": "2025-09-02T17:01:02.621898"
    },
    {
      "test": "detect_file_type (image.JPEG)",
      "success": false,
      "message": "Erreur upload: 400",
      "details": null,
      "timestamp": "2025-09-02T17:01:02.906722"
    },
    {
      "test": "detect_file_type (unknown.txt)",
      "success": false,
      "message": "Erreur upload: 400",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.145026"
    },
    {
      "test": "detect_file_type (rapport.pdf)",
      "success": false,
      "message": "Erreur upload: 400",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.171060"
    },
    {
      "test": "detect_file_type (tous cas)",
      "success": false,
      "message": "Seulement 2/7 cas réussis",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.171099"
    },
    {
      "test": "POST /ocr/upload-document (PDF Z-report)",
      "success": true,
      "message": "PDF Z-report traité, ID: da4cd72d...",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.200022"
    },
    {
      "test": "DocumentOCR file_type field (PDF)",
      "success": true,
      "message": "Champ file_type=pdf correctement défini",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.200056"
    },
    {
      "test": "PDF text extraction",
      "success": true,
      "message": "Texte extrait: 296 caractères",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.200064"
    },
    {
      "test": "POST /ocr/upload-document (PDF Facture)",
      "success": true,
      "message": "PDF Facture traitée, ID: ab6db490...",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.232496"
    },
    {
      "test": "PDF facture parsing",
      "success": false,
      "message": "Parsing facture incomplet",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.232533"
    },
    {
      "test": "POST /ocr/parse-z-report-enhanced (PDF)",
      "success": false,
      "message": "Erreur 422",
      "details": "{\"detail\":[{\"type\":\"missing\",\"loc\":[\"query\",\"document_id\"],\"msg\":\"Field required\",\"input\":null,\"url\":\"https://errors.pydantic.dev/2.11/v/missing\"}]}",
      "timestamp": "2025-09-02T17:01:03.278340"
    },
    {
      "test": "POST /ocr/calculate-stock-deductions",
      "success": true,
      "message": "Déductions calculées: 8 propositions",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.307655"
    },
    {
      "test": "Stock deduction structure",
      "success": true,
      "message": "Structure StockDeductionProposal correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.307690"
    },
    {
      "test": "Backward compatibility - Image OCR",
      "success": true,
      "message": "Images OCR fonctionnent toujours",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.828007"
    },
    {
      "test": "Image file_type detection",
      "success": true,
      "message": "Type image correctement détecté",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.828043"
    },
    {
      "test": "Image OCR parsing compatibility",
      "success": true,
      "message": "Parsing image OCR préservé",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.828050"
    },
    {
      "test": "PDF error handling - Corrupted",
      "success": true,
      "message": "Erreur PDF corrompu gérée correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.849073"
    },
    {
      "test": "PDF error handling - Image-based",
      "success": true,
      "message": "PDF image-based géré correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:03.881702"
    },
    {
      "test": "POST /ocr/upload-document (z_report)",
      "success": true,
      "message": "Document Z-report traité, ID: ffa999a1...",
      "details": null,
      "timestamp": "2025-09-02T17:01:04.459629"
    },
    {
      "test": "Parsing Z-report",
      "success": false,
      "message": "Structure de données parsées incorrecte",
      "details": null,
      "timestamp": "2025-09-02T17:01:04.459666"
    },
    {
      "test": "POST /ocr/upload-document (facture)",
      "success": true,
      "message": "Facture traitée, ID: e9695310...",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.213960"
    },
    {
      "test": "Parsing facture",
      "success": false,
      "message": "Structure de données parsées incorrecte",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.214000"
    },
    {
      "test": "GET /ocr/documents",
      "success": true,
      "message": "50 document(s) récupéré(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.258892"
    },
    {
      "test": "Structure documents OCR",
      "success": true,
      "message": "Tous les champs requis présents",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.258935"
    },
    {
      "test": "GET /ocr/document/{id}",
      "success": true,
      "message": "Document récupéré correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.277975"
    },
    {
      "test": "Données complètes document",
      "success": true,
      "message": "Texte et données parsées présents",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.278003"
    },
    {
      "test": "POST /ocr/process-z-report",
      "success": false,
      "message": "Erreur 400",
      "details": "{\"detail\":\"Aucun plat trouvé dans le rapport Z\"}",
      "timestamp": "2025-09-02T17:01:05.338899"
    },
    {
      "test": "DELETE /ocr/document/{id}",
      "success": true,
      "message": "Document OCR supprimé",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.360830"
    },
    {
      "test": "Validation suppression document OCR",
      "success": true,
      "message": "Document bien supprimé",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.382581"
    },
    {
      "test": "OCR type document invalide",
      "success": true,
      "message": "Erreur 400 pour type invalide",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.400842"
    },
    {
      "test": "OCR document inexistant",
      "success": true,
      "message": "Erreur 404 pour document inexistant",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.419938"
    },
    {
      "test": "OCR traitement document inexistant",
      "success": true,
      "message": "Erreur 404 pour traitement document inexistant",
      "details": null,
      "timestamp": "2025-09-02T17:01:05.482507"
    },
    {
      "test": "Setup Enhanced OCR Document",
      "success": true,
      "message": "Document créé pour tests Enhanced: 78c31cab...",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.386976"
    },
    {
      "test": "POST /ocr/parse-z-report-enhanced - Structure",
      "success": true,
      "message": "Tous les champs StructuredZReportData présents",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.407208"
    },
    {
      "test": "Catégorisation automatique",
      "success": true,
      "message": "4 catégories détectées: ['Bar', 'Entrées', 'Plats', 'Desserts']",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.407263"
    },
    {
      "test": "Items catégorisés",
      "success": true,
      "message": "1 items répartis dans les catégories",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.407275"
    },
    {
      "test": "Structure items Plats",
      "success": true,
      "message": "Structure StructuredZReportItem correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.407284"
    },
    {
      "test": "Extraction service",
      "success": false,
      "message": "Service non détecté",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.407290"
    },
    {
      "test": "Extraction total CA",
      "success": false,
      "message": "Total CA non détecté",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.407300"
    },
    {
      "test": "POST /ocr/calculate-stock-deductions - Structure",
      "success": true,
      "message": "Structure ZReportValidationResult correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.435703"
    },
    {
      "test": "Calcul déductions stock",
      "success": true,
      "message": "3 propositions de déduction calculées",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.435736"
    },
    {
      "test": "Structure StockDeductionProposal",
      "success": true,
      "message": "Structure déduction correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.435745"
    },
    {
      "test": "Calcul déductions ingrédients",
      "success": true,
      "message": "Calculs par ingrédient corrects",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.435752"
    },
    {
      "test": "Gestion avertissements",
      "success": true,
      "message": "3 avertissement(s) générés",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.435758"
    },
    {
      "test": "GET /ocr/z-report-preview - Structure",
      "success": true,
      "message": "Structure prévisualisation correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.454444"
    },
    {
      "test": "Mode preview",
      "success": true,
      "message": "Mode preview_only activé",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.454479"
    },
    {
      "test": "Données preview complètes",
      "success": true,
      "message": "Données structurées et validation présentes",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.454486"
    },
    {
      "test": "POST /ocr/validate-z-report (preview)",
      "success": true,
      "message": "Structure validation correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.476965"
    },
    {
      "test": "Mode validation preview",
      "success": true,
      "message": "Déductions non appliquées en mode preview",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.476996"
    },
    {
      "test": "Pattern Recognition: (x2) Linguine aux pa...",
      "success": false,
      "message": "Aucun item détecté",
      "details": null,
      "timestamp": "2025-09-02T17:01:06.912171"
    },
    {
      "test": "Pattern Recognition: 3x Supions persillad...",
      "success": true,
      "message": "1 item(s) détecté(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:07.246748"
    },
    {
      "test": "Pattern Recognition: Rigatoni truffe: 1...",
      "success": true,
      "message": "1 item(s) détecté(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:07.641157"
    },
    {
      "test": "Pattern Recognition: Bœuf Wellington €56....",
      "success": false,
      "message": "Aucun item détecté",
      "details": null,
      "timestamp": "2025-09-02T17:01:08.044702"
    },
    {
      "test": "Fuzzy Matching avec recettes",
      "success": false,
      "message": "Aucune déduction proposée",
      "details": null,
      "timestamp": "2025-09-02T17:01:08.541754"
    },
    {
      "test": "Prérequis intégration OCR-Stocks",
      "success": true,
      "message": "11 recettes, 44 stocks disponibles",
      "details": null,
      "timestamp": "2025-09-02T17:01:08.583125"
    },
    {
      "test": "Sélection recette test",
      "success": true,
      "message": "Recette sélectionnée: Salade Test Import",
      "details": null,
      "timestamp": "2025-09-02T17:01:08.583164"
    },
    {
      "test": "Upload document intégration",
      "success": true,
      "message": "Document créé: 79b40faa...",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.070034"
    },
    {
      "test": "Application déductions stocks",
      "success": true,
      "message": "Déductions appliquées avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.129984"
    },
    {
      "test": "Mise à jour stocks automatique",
      "success": false,
      "message": "Aucun stock mis à jour",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.172183"
    },
    {
      "test": "Création mouvements automatiques",
      "success": false,
      "message": "Aucun mouvement de déduction trouvé",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.194327"
    },
    {
      "test": "Création RapportZ automatique",
      "success": false,
      "message": "CA incorrect dans RapportZ",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.214582"
    },
    {
      "test": "POST /rapports_z",
      "success": true,
      "message": "Rapport Z créé avec ID: 30609e15...",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.239500"
    },
    {
      "test": "UUID génération automatique",
      "success": true,
      "message": "ID UUID généré automatiquement",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.239541"
    },
    {
      "test": "GET /rapports_z",
      "success": true,
      "message": "21 rapport(s) Z récupéré(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.260676"
    },
    {
      "test": "Tri par date décroissante",
      "success": true,
      "message": "Rapports triés correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.260718"
    },
    {
      "test": "Structure données rapports Z",
      "success": true,
      "message": "Tous les champs requis présents",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.260730"
    },
    {
      "test": "created_at automatique",
      "success": true,
      "message": "Timestamp created_at ajouté",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.260736"
    },
    {
      "test": "GET /rapports_z/{id}",
      "success": true,
      "message": "Rapport spécifique récupéré correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.281843"
    },
    {
      "test": "Structure produits rapport Z",
      "success": true,
      "message": "Structure produits correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.281876"
    },
    {
      "test": "GET /rapports_z/{id} inexistant",
      "success": true,
      "message": "Erreur 404 pour ID inexistant",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.300542"
    },
    {
      "test": "DELETE /rapports_z/{id}",
      "success": true,
      "message": "Rapport Z supprimé avec succès",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.361052"
    },
    {
      "test": "Validation suppression rapport Z",
      "success": true,
      "message": "Rapport bien supprimé",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.420904"
    },
    {
      "test": "DELETE /rapports_z/{id} inexistant",
      "success": true,
      "message": "Erreur 404 pour suppression ID inexistant",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.484648"
    },
    {
      "test": "POST /rapports_z (données réalistes)",
      "success": true,
      "message": "Deuxième rapport Z créé avec données La Table d'Augustine",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.502011"
    },
    {
      "test": "Liste rapports Z mise à jour",
      "success": true,
      "message": "Liste contient 21 rapport(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.526053"
    },
    {
      "test": "GET /analytics/profitability",
      "success": false,
      "message": "Erreur 500",
      "details": "Internal Server Error",
      "timestamp": "2025-09-02T17:01:09.551944"
    },
    {
      "test": "GET /analytics/sales-performance",
      "success": true,
      "message": "Analyse ventes: 27959.75€ total, 21 commandes",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.571638"
    },
    {
      "test": "Calcul average order value",
      "success": true,
      "message": "Panier moyen: 1331.42€",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.571677"
    },
    {
      "test": "Structure top recipes",
      "success": true,
      "message": "Top recette: Rigatoni à la truffe de Forcalquier (2418.00€)",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.571687"
    },
    {
      "test": "Sales by category",
      "success": true,
      "message": "Toutes les catégories présentes",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.571696"
    },
    {
      "test": "GET /analytics/alerts",
      "success": true,
      "message": "Centre d'alertes: 42 alertes totales",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.622273"
    },
    {
      "test": "Calcul total alerts",
      "success": true,
      "message": "Total cohérent: 42",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.622308"
    },
    {
      "test": "Expiring products",
      "success": true,
      "message": "Aucun produit expirant (bon signe)",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.622316"
    },
    {
      "test": "Structure low stock",
      "success": true,
      "message": "Stock faible: Supions (petits calamars) (0/1.1670553873784635)",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.622327"
    },
    {
      "test": "Price anomalies",
      "success": true,
      "message": "Aucune anomalie de prix",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.622335"
    },
    {
      "test": "GET /analytics/cost-analysis",
      "success": false,
      "message": "Erreur 500",
      "details": "Internal Server Error",
      "timestamp": "2025-09-02T17:01:09.666324"
    },
    {
      "test": "Données La Table d'Augustine présentes",
      "success": true,
      "message": "6 produits authentiques détectés",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.687912"
    },
    {
      "test": "Alerts avec données La Table d'Augustine",
      "success": true,
      "message": "Système d'alertes opérationnel: 42 alertes",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.814339"
    },
    {
      "test": "Alertes produits La Table d'Augustine",
      "success": true,
      "message": "6 alertes sur produits authentiques",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.814442"
    },
    {
      "test": "Prérequis Advanced Stock Management",
      "success": true,
      "message": "44 produits, 11 recettes disponibles",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.856431"
    },
    {
      "test": "Sélection données test",
      "success": true,
      "message": "Produit: Supions (petits calamars), Recette: Salade Test Import",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.856475"
    },
    {
      "test": "POST /stock/advanced-adjustment (ingredient) - Structure",
      "success": true,
      "message": "Ajustement créé: Supions (petits calamars) +10.5",
      "details": null,
      "timestamp": "2025-09-02T17:01:09.961460"
    },
    {
      "test": "Mise à jour stock ingredient",
      "success": true,
      "message": "Stock mis à jour: 0.0 → 10.5",
      "details": null,
      "timestamp": "2025-09-02T17:01:10.480323"
    },
    {
      "test": "Création mouvement stock automatique",
      "success": true,
      "message": "Mouvement créé: entree 10.5",
      "details": null,
      "timestamp": "2025-09-02T17:01:10.497630"
    },
    {
      "test": "POST /stock/advanced-adjustment (prepared_dish) - Structure",
      "success": true,
      "message": "Plat préparé: Salade Test Import x2.0",
      "details": null,
      "timestamp": "2025-09-02T17:01:10.601419"
    },
    {
      "test": "Calcul déductions ingrédients",
      "success": true,
      "message": "2 ingrédient(s) déduits automatiquement",
      "details": null,
      "timestamp": "2025-09-02T17:01:10.601455"
    },
    {
      "test": "Mise à jour stocks ingrédients",
      "success": true,
      "message": "Tous les 2 stocks d'ingrédients mis à jour correctement",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.137289"
    },
    {
      "test": "GET /stock/adjustments-history",
      "success": true,
      "message": "22 ajustement(s) dans l'historique",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.157622"
    },
    {
      "test": "Tri historique ajustements",
      "success": true,
      "message": "Ajustements triés par date décroissante",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.157654"
    },
    {
      "test": "Structure historique ajustements",
      "success": true,
      "message": "Structure AdvancedStockAdjustment complète",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.157666"
    },
    {
      "test": "Types ajustements dans historique",
      "success": true,
      "message": "11 ingredient, 11 prepared_dish",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.157679"
    },
    {
      "test": "GET /stock/batch-info - Structure",
      "success": true,
      "message": "Info lot pour Supions (petits calamars): 10.5 total",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.179781"
    },
    {
      "test": "Cohérence product_id",
      "success": true,
      "message": "Product ID correct",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.179820"
    },
    {
      "test": "Structure batches",
      "success": true,
      "message": "1 lot(s) trouvé(s)",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.179830"
    },
    {
      "test": "Structure batch individuel",
      "success": true,
      "message": "Lot 0f1541e1... : 5.835276936892317 (good)",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.179842"
    },
    {
      "test": "Calcul statuts expiration",
      "success": true,
      "message": "Statuts valides: {'good'}",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.179855"
    },
    {
      "test": "Cohérence compteurs batches",
      "success": true,
      "message": "0 critiques, 0 expirés",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.179863"
    },
    {
      "test": "GET /stock/batch-summary",
      "success": true,
      "message": "43 produit(s) avec gestion de lots",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.341660"
    },
    {
      "test": "Structure batch summary",
      "success": true,
      "message": "Structure BatchStockInfo correcte pour tous les produits",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.341699"
    },
    {
      "test": "Filtrage produits avec batches",
      "success": true,
      "message": "Seuls les produits avec batches inclus",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.341715"
    },
    {
      "test": "Statistiques globales batches",
      "success": true,
      "message": "43 lots total, 0 critiques, 0 expirés",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.341735"
    },
    {
      "test": "Création batch test",
      "success": true,
      "message": "Batch créé: d684f38a... (50.0 unités)",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.414536"
    },
    {
      "test": "PUT /stock/consume-batch - Calcul",
      "success": true,
      "message": "Quantité restante correcte: 30.0",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.458587"
    },
    {
      "test": "Mise à jour stock total après consommation",
      "success": true,
      "message": "Stock total mis à jour: 60.5 → 40.5",
      "details": null,
      "timestamp": "2025-09-02T17:01:11.978752"
    },
    {
      "test": "Création mouvement consommation",
      "success": true,
      "message": "Mouvement créé: sortie 20.0",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.001206"
    },
    {
      "test": "Consommation complète batch",
      "success": true,
      "message": "Batch entièrement consommé",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.024077"
    },
    {
      "test": "Marquage batch consommé",
      "success": true,
      "message": "Batch retiré de la liste active",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.086589"
    },
    {
      "test": "Ajustement produit La Table d'Augustine",
      "success": true,
      "message": "Ajustement réussi pour Supions (petits calamars)",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.111090"
    },
    {
      "test": "Déduction ingrédients recette La Table d'Augustine",
      "success": true,
      "message": "Recette Supions en persillade de Mamie: 4 ingrédients déduits",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.139895"
    },
    {
      "test": "Calcul portions recette authentique",
      "success": true,
      "message": "Calcul basé sur 4 portion(s) de recette",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.139931"
    },
    {
      "test": "POST /admin/users (role: super_admin)",
      "success": false,
      "message": "Erreur 400: {\"detail\":\"Username or email already exists\"}",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.178381"
    },
    {
      "test": "POST /admin/users (role: gerant)",
      "success": false,
      "message": "Erreur 400: {\"detail\":\"Username or email already exists\"}",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.198833"
    },
    {
      "test": "POST /admin/users (role: chef_cuisine)",
      "success": true,
      "message": "Utilisateur chef_cuisine créé avec sécurité",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.512771"
    },
    {
      "test": "POST /admin/users (role: barman)",
      "success": false,
      "message": "Erreur 400: {\"detail\":\"Username or email already exists\"}",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.533772"
    },
    {
      "test": "POST /admin/users (role: caissier)",
      "success": false,
      "message": "Erreur 400: {\"detail\":\"Username or email already exists\"}",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.555757"
    },
    {
      "test": "Création utilisateurs tous rôles",
      "success": false,
      "message": "Seulement 1 utilisateurs créés sur 5",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.555792"
    },
    {
      "test": "GET /admin/users",
      "success": true,
      "message": "9 utilisateurs récupérés",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.573186"
    },
    {
      "test": "Structure données utilisateurs",
      "success": true,
      "message": "Tous champs requis présents, mots de passe sécurisés",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.573226"
    },
    {
      "test": "Validation rôles utilisateurs",
      "success": true,
      "message": "Tous les rôles RBAC présents: ['barman', 'caissier', 'chef_cuisine', 'gerant', 'super_admin']",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.573258"
    },
    {
      "test": "DELETE /admin/users/{user_id}",
      "success": true,
      "message": "Utilisateur user_chef_cuisine_test supprimé",
      "details": null,
      "timestamp": "2025-09-02T17:01:12.591765"
    },
    {
      "test": "Validation suppression utilisateur",
      "success": true,
      "message": "Utilisateur bien supprimé de la base",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.117095"
    },
    {
      "test": "DELETE utilisateur inexistant",
      "success": true,
      "message": "Erreur 404 correcte pour utilisateur inexistant",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.133140"
    },
    {
      "test": "Sécurité mot de passe",
      "success": true,
      "message": "Mot de passe non exposé dans la réponse",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.429775"
    },
    {
      "test": "Validation hachage bcrypt",
      "success": true,
      "message": "Utilisateur créé avec succès (hachage bcrypt fonctionnel)",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.429815"
    },
    {
      "test": "Création utilisateur de base",
      "success": true,
      "message": "Utilisateur de référence créé",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.721759"
    },
    {
      "test": "Validation unicité username",
      "success": true,
      "message": "Username dupliqué correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.785062"
    },
    {
      "test": "Validation unicité email",
      "success": true,
      "message": "Email dupliqué correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:13.805669"
    },
    {
      "test": "Validation rôle super_admin",
      "success": true,
      "message": "Rôle super_admin accepté et assigné",
      "details": null,
      "timestamp": "2025-09-02T17:01:14.079387"
    },
    {
      "test": "Validation rôle gerant",
      "success": true,
      "message": "Rôle gerant accepté et assigné",
      "details": null,
      "timestamp": "2025-09-02T17:01:14.392302"
    },
    {
      "test": "Validation rôle chef_cuisine",
      "success": true,
      "message": "Rôle chef_cuisine accepté et assigné",
      "details": null,
      "timestamp": "2025-09-02T17:01:14.663811"
    },
    {
      "test": "Validation rôle barman",
      "success": true,
      "message": "Rôle barman accepté et assigné",
      "details": null,
      "timestamp": "2025-09-02T17:01:14.975178"
    },
    {
      "test": "Validation rôle caissier",
      "success": true,
      "message": "Rôle caissier accepté et assigné",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.333484"
    },
    {
      "test": "Rejet rôle invalide 'admin'",
      "success": true,
      "message": "Rôle invalide correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.375853"
    },
    {
      "test": "Rejet rôle invalide 'user'",
      "success": true,
      "message": "Rôle invalide correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.435946"
    },
    {
      "test": "Rejet rôle invalide 'manager'",
      "success": true,
      "message": "Rôle invalide correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.454715"
    },
    {
      "test": "Rejet rôle invalide 'invalid_role'",
      "success": true,
      "message": "Rôle invalide correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.474586"
    },
    {
      "test": "Rejet rôle invalide 'super_user'",
      "success": true,
      "message": "Rôle invalide correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.494069"
    },
    {
      "test": "Rejet rôle invalide ''",
      "success": true,
      "message": "Rôle invalide correctement rejeté",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.551675"
    },
    {
      "test": "Structure modèle User",
      "success": true,
      "message": "Tous les champs requis présents avec types corrects",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.805875"
    },
    {
      "test": "Valeur par défaut is_active",
      "success": true,
      "message": "is_active défini à True par défaut",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.805914"
    },
    {
      "test": "Valeur par défaut last_login",
      "success": true,
      "message": "last_login défini à null par défaut",
      "details": null,
      "timestamp": "2025-09-02T17:01:15.805922"
    },
    {
      "test": "Sécurité UserResponse (POST)",
      "success": true,
      "message": "Aucune donnée sensible exposée lors de la création",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.119667"
    },
    {
      "test": "Sécurité UserResponse (GET)",
      "success": true,
      "message": "Aucune donnée sensible exposée dans la liste",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.138096"
    },
    {
      "test": "Admin par défaut - rôle",
      "success": true,
      "message": "Admin a le rôle super_admin",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.176930"
    },
    {
      "test": "Admin par défaut - email",
      "success": true,
      "message": "Email admin correct",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.176960"
    },
    {
      "test": "Admin par défaut - nom complet",
      "success": true,
      "message": "Nom complet admin correct",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.176967"
    },
    {
      "test": "Admin par défaut - statut actif",
      "success": true,
      "message": "Admin actif par défaut",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.176973"
    },
    {
      "test": "Utilisateur admin par défaut",
      "success": true,
      "message": "Utilisateur admin par défaut trouvé et validé",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.176978"
    },
    {
      "test": "Mise à jour compteur utilisateurs",
      "success": true,
      "message": "Nombre d'utilisateurs passé de 8 à 9",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.966032"
    },
    {
      "test": "Persistance données utilisateur",
      "success": true,
      "message": "Toutes les données utilisateur correctement persistées",
      "details": null,
      "timestamp": "2025-09-02T17:01:16.966099"
    },
    {
      "test": "Utilisateur existe avant suppression",
      "success": true,
      "message": "Utilisateur trouvé avant suppression",
      "details": null,
      "timestamp": "2025-09-02T17:01:17.257842"
    },
    {
      "test": "Suppression complète utilisateur",
      "success": true,
      "message": "Utilisateur complètement supprimé de la base",
      "details": null,
      "timestamp": "2025-09-02T17:01:17.795105"
    },
    {
      "test": "Mise à jour compteur après suppression",
      "success": true,
      "message": "Nombre d'utilisateurs réduit de 9 à 8",
      "details": null,
      "timestamp": "2025-09-02T17:01:17.795145"
    },
    {
      "test": "Timestamp created_at",
      "success": true,
      "message": "Timestamp correct: 2025-09-02T17:01:18.040494",
      "details": null,
      "timestamp": "2025-09-02T17:01:18.045698"
    },
    {
      "test": "Timestamp last_login initial",
      "success": true,
      "message": "last_login correctement null pour nouvel utilisateur",
      "details": null,
      "timestamp": "2025-09-02T17:01:18.045732"
    },
    {
      "test": "Format ID utilisateur",
      "success": true,
      "message": "ID au format UUID",
      "details": null,
      "timestamp": "2025-09-02T17:01:18.045738"
    },
    {
      "test": "Intégration - APIs existantes",
      "success": true,
      "message": "APIs existantes fonctionnent avec User Management",
      "details": null,
      "timestamp": "2025-09-02T17:01:18.128870"
    },
    {
      "test": "Intégration - isolation collections",
      "success": true,
      "message": "Création utilisateur n'affecte pas les autres collections",
      "details": null,
      "timestamp": "2025-09-02T17:01:18.494471"
    },
    {
      "test": "Stockage MongoDB correct",
      "success": true,
      "message": "Utilisateur correctement stocké et récupérable",
      "details": null,
      "timestamp": "2025-09-02T17:01:18.823861"
    },
    {
      "test": "Persistance MongoDB",
      "success": true,
      "message": "Utilisateur persiste correctement dans MongoDB",
      "details": null,
      "timestamp": "2025-09-02T17:01:19.843936"
    },
    {
      "test": "Isolation opérations utilisateur",
      "success": true,
      "message": "Opérations utilisateur n'affectent pas les autres collections",
      "details": null,
      "timestamp": "2025-09-02T17:01:20.844449"
    },
    {
      "test": "Validation données valides",
      "success": true,
      "message": "Données valides acceptées",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.178271"
    },
    {
      "test": "Validation - Email invalide",
      "success": true,
      "message": "Données invalides correctement rejetées (400)",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.237794"
    },
    {
      "test": "Validation - Username vide",
      "success": true,
      "message": "Données invalides correctement rejetées (400)",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.256850"
    },
    {
      "test": "Validation - Mot de passe trop court",
      "success": true,
      "message": "Données invalides correctement rejetées (400)",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.277127"
    },
    {
      "test": "Validation - Rôle manquant",
      "success": true,
      "message": "Données invalides correctement rejetées (422)",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.339089"
    },
    {
      "test": "OCR Text Extraction - ALL Items",
      "success": false,
      "message": "Extraction insuffisante: seulement 8/13 items détectés",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.443846"
    },
    {
      "test": "OCR Categorization - ALL Items",
      "success": true,
      "message": "Catégorisation réussie: 12 items catégorisés",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.483900"
    },
    {
      "test": "New Items Categorization",
      "success": false,
      "message": "Catégorisation des nouveaux items insuffisante: 2/4",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.483948"
    },
    {
      "test": "Stock Deductions - Existing Items",
      "success": true,
      "message": "Déductions calculées pour 2 items existants",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.513997"
    },
    {
      "test": "Warnings - New Items",
      "success": true,
      "message": "Warnings générés pour 2 nouveaux items",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.514044"
    },
    {
      "test": "Unmatched Items Warnings",
      "success": true,
      "message": "Messages d'alerte pour items non trouvés: 8",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.514053"
    },
    {
      "test": "Data Storage - All Items",
      "success": true,
      "message": "Tous les items stockés dans donnees_parsees: 12 items",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.533393"
    },
    {
      "test": "Grand Total Storage",
      "success": true,
      "message": "Grand total correctement stocké: 687.5€",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.533425"
    },
    {
      "test": "Interface Visibility - All Items",
      "success": true,
      "message": "Tous les items visibles dans l'interface: 12 items",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.563968"
    },
    {
      "test": "Stock Impact - Existing Only",
      "success": true,
      "message": "Impact stock limité aux items existants: 4 déductions sur 12 items",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.564003"
    },
    {
      "test": "PDF Document Upload - file_type",
      "success": true,
      "message": "Document sauvé avec file_type='pdf'",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.600924"
    },
    {
      "test": "PDF Text Extraction",
      "success": true,
      "message": "Texte extrait: 531 caractères",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.600961"
    },
    {
      "test": "StructuredZReportData Structure",
      "success": true,
      "message": "Tous les champs requis présents",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.623940"
    },
    {
      "test": "4 Categories Organization",
      "success": true,
      "message": "Toutes les catégories présentes",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.623975"
    },
    {
      "test": "Category Bar Items",
      "success": true,
      "message": "3 items dans Bar",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.623984"
    },
    {
      "test": "Category Entrées Items",
      "success": true,
      "message": "3 items dans Entrées",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.623996"
    },
    {
      "test": "Category Plats Items",
      "success": true,
      "message": "2 items dans Plats",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.624006"
    },
    {
      "test": "Category Desserts Items",
      "success": true,
      "message": "2 items dans Desserts",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.624023"
    },
    {
      "test": "Grand Total Calculation",
      "success": true,
      "message": "CA total calculé: 456.5€",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.624036"
    },
    {
      "test": "Report Date Extraction",
      "success": true,
      "message": "Date: 15/12/2024",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.624041"
    },
    {
      "test": "Service Extraction",
      "success": false,
      "message": "Service non extrait",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.624046"
    },
    {
      "test": "categorize_menu_item Function",
      "success": true,
      "message": "Catégorisation correcte des items",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.624055"
    },
    {
      "test": "OCR Document Storage - donnees_parsees",
      "success": true,
      "message": "Données structurées stockées dans donnees_parsees",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.642709"
    },
    {
      "test": "Structured Data in Storage",
      "success": true,
      "message": "items_by_category présent dans le stockage",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.642748"
    },
    {
      "test": "Stock Deductions Calculation",
      "success": true,
      "message": "4 propositions de déduction calculées",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.692273"
    },
    {
      "test": "Stock Deduction Structure",
      "success": true,
      "message": "Structure StockDeductionProposal correcte",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.692306"
    },
    {
      "test": "FIXED: File Type Assignment",
      "success": true,
      "message": "file_type correctement défini à 'pdf'",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.784511"
    },
    {
      "test": "PDF Text Extraction",
      "success": true,
      "message": "Texte extrait: 352 caractères",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.784552"
    },
    {
      "test": "FIXED: CA Total Calculation",
      "success": true,
      "message": "grand_total_sales correctement extrait: 456.5€",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.804390"
    },
    {
      "test": "FIXED: Supions Categorization",
      "success": true,
      "message": "Supions en persillade correctement catégorisé dans Entrées",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.804427"
    },
    {
      "test": "FIXED: Fleurs de courgettes Categorization",
      "success": true,
      "message": "Fleurs de courgettes correctement catégorisées dans Entrées",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.804436"
    },
    {
      "test": "Categories Structure",
      "success": true,
      "message": "Toutes les 4 catégories présentes",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.804445"
    },
    {
      "test": "Date Extraction",
      "success": true,
      "message": "Date correctement extraite: 15/12/2024",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.804451"
    },
    {
      "test": "Service Extraction",
      "success": false,
      "message": "Service incorrect: None",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.804457"
    },
    {
      "test": "Stock Deduction Validation",
      "success": false,
      "message": "Validation des déductions échouée",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.834051"
    },
    {
      "test": "DELETE /produits/{id}",
      "success": true,
      "message": "Produit supprimé",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.885348"
    },
    {
      "test": "Suppression stock cascade",
      "success": true,
      "message": "Stock supprimé automatiquement",
      "details": null,
      "timestamp": "2025-09-02T17:01:21.901304"
    },
    {
      "test": "Suppression mouvements cascade",
      "success": true,
      "message": "Mouvements supprimés automatiquement",
      "details": null,
      "timestamp": "2025-09-02T17:01:22.419525"
    },
    {
      "test": "Nettoyage fournisseur",
      "success": true,
      "message": "Fournisseur de test supprimé",
      "details": null,
      "timestamp": "2025-09-02T17:01:22.437225"
    }
  ]
}